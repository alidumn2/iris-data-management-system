{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="search-page">
    <div class="search-container">
        <div class="search-left">
            <p class="search-intro">Filter by species name or measurements.</p>
            <form method="get" action="{% url 'search' %}">
                <input type="text" name="species" placeholder="Search Species">
                <input type="number" step="0.1" name="sepal_length" placeholder="Min Sepal Length">
                <input type="number" step="0.1" name="sepal_width" placeholder="Min Sepal Width">
                <input type="number" step="0.1" name="petal_length" placeholder="Min Petal Length">
                <input type="number" step="0.1" name="petal_width" placeholder="Min Petal Width">
                <button type="submit">Filter</button>
            </form>
        </div>
        <div class="search-right">
            <img src="{% static 'img/iris_setosa.jpg' %}" alt="Iris Setosa">
        </div>
    </div>

    {% if results %}
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Species</th>
                <th>Sepal Length</th>
                <th>Sepal Width</th>
                <th>Petal Length</th>
                <th>Petal Width</th>
                <th>Collector</th>
            </tr>
        </thead>
        <tbody>
            {% for item in results %}
            <tr>
                <td>{{ item.species }}</td>
                <td>{{ item.sepal_length }}</td>
                <td>{{ item.sepal_width }}</td>
                <td>{{ item.petal_length }}</td>
                <td>{{ item.petal_width }}</td>
                <td>{{ item.collector.first_name }} {{ item.collector.last_name }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>No results found.</p>
    {% endif %}
</div>
{% endblock %}